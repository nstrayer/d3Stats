<!-- load in D3 and Chart constructor scripts -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
<script src="colorbrewer.min.js"></script>
<script src="dotplots.js"></script>

<style>
/* a little bit of CSS to make the chart readable */
.line {
    fill: none;
    stroke-width: 4px;
}
.axis path, .tick line {
    fill: none;
    stroke: #333;
}
</style>

<!-- here's the div our chart will be injected into -->
<div class="chart-container" style="max-width: 1000px;"></div>

<!-- these will be made useful in the script below -->
<button class="data">change data</button>

<script>

function generateData(groups){
    var data = []
    groups.forEach(function(group){
        var numberOfValues = 500;
        var randomNumbers = d3.range(numberOfValues).map(d3.random.normal())
        randomNumbers.forEach( function(num){
            data.push( {"group": group, "val": num} )
        } )
    })
    return data;
}

// var data_for_plotting = generateData(["a", "b", "c"])
var data_for_plotting = generateData(["a","b", "c", "d", "e"])
// var data_for_plotting = generateData(["a"])

//send to plotting function.
var dot_plots = new Dot_Plots({
    data: data_for_plotting,
    element: document.querySelector('.chart-container'),
    bins: 40,
})

// redraw chart on each resize
// in a real-world example, it might be worth ‘throttling’ this
// more info: http://sampsonblog.com/749/simple-throttle-function
// d3.select(window).on('resize', function(){
//     chart.draw();
// });

</script>
